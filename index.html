<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Graduation</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    body {
      background: url('rain.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: "Segoe UI", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      text-align: center;
      cursor: pointer;
      position: relative;
    }

    #snow {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    #story-box {
      max-width: 700px;
      padding: 40px;
      border: 2px solid #00ffe1;
      border-radius: 20px;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(8px);
      box-shadow: 0 0 25px #00ffe1;
      font-size: 1.5rem;
      color: #ffffff;
      z-index: 2;
      position: relative;
      opacity: 0;
      transition: opacity 0.8s ease;
      overflow: hidden;
      height: auto;
      transform-origin: top;
      animation: none;
    }

    .fade-in {
      opacity: 0.8 !important;
    }

    @keyframes resizeSmooth {
      0% {
        transform: scaleY(0.95);
        opacity: 0;
      }
      100% {
        transform: scaleY(1);
        opacity: 1;
      }
    }

    ::selection {
      background: #00ffe1;
      color: black;
    }
  </style>
</head>
<body>
  <canvas id="snow"></canvas>

  <div id="story-box">ðŸ‘† NÆ¡i tÃ¬nh yÃªu báº¯t Ä‘áº§u.</div>

  <audio id="bgm" src="nooneelse.mp3" autoplay loop></audio>

  <script>
    const parts = [
      "NgÃ y xÆ°a Ä‘Ã³, mÃ£i mÃ£i bay xa ...",
      "Tháº­t khÃ³ Ä‘á»ƒ viáº¿t ra nhá»¯ng lá»i nÃ y...",
      "Tháº­t vui khi tháº¥y cÃ¡c em trÆ°á»Ÿng thÃ nh hÃ ng ngÃ y. CÃ³ nhá»¯ng báº¡n, anh biáº¿t tá»« há»“i bÃ© xÃ­u, tá»›i táº­n bÃ¢y giá» cÅ©ng 6-7 nÄƒm rá»“i. ÄÆ°á»£c trÃ´ng tháº¥y cÃ¡c em vá»¯ng bÆ°á»›c tá»›i ngÆ°á»¡ng cá»­a thay Ä‘á»•i cá»§a cuá»™c Ä‘á»i, tháº­t sá»± lÃ  nhá»¯ng tráº£i nghiá»‡m khÃ³ quÃªn.",
      "NhÆ°ng thá»i gian khÃ´ng nÃ¡n láº¡i vá»›i chÃºng ta quÃ¡ lÃ¢u. Ba nÄƒm trÃ´i qua nhanh láº¯m cÃ¡c em áº¡. NgÃ y thi sáº¯p tá»›i, cÅ©ng cÃ³ nghÄ©a lÃ  ngÃ y chia xa Ä‘Ã£ gáº§n ká» ...",
      "Má»i thá»©, sáº¯p chá»‰ cÃ²n lÃ  hoÃ i niá»‡m, lÃ  kÃ½ á»©c...",
      "Tháº­t vui khi Ä‘Æ°á»£c Ä‘á»“ng hÃ nh cÃ¹ng cÃ¡c em trong nÄƒm vá»«a qua. Má»™t nÄƒm quÃ¡ nhiá»u khÃ³ khÄƒn, váº¥t váº£. Má»™t nÄƒm cá»§a sá»± thay Ä‘á»•i xÃ¡o trá»™n. Má»™t nÄƒm cÃ¡ch máº¡ng toÃ n bá»™ chÆ°Æ¡ng trÃ¬nh tá»›i má»©c khá»§ng khiáº¿p mÃ  má»i ngÆ°á»i, tá»« tháº§y cÃ´ Ä‘áº¿n há»c sinh Ä‘á»u cáº£m tháº¥y chÃªnh vÃªnh.",
      "ChÆ°a cÃ³ khÃ³a nÃ o váº¥t váº£ váº­y. ChÃºng ta cÃ³ COVID - 19, há»c online thÃ´ng cáº¥p 2, lÃªn cáº¥p 3 sÃ¡ch má»›i, chÆ°Æ¡ng trÃ¬nh má»›i. Tá»›i lÃºc thi láº¡i cÃ¡ch thi má»›i, vá»›i vÃ´ vÃ n sá»± thay Ä‘á»•i.",
      "NhÆ°ng chÃºng ta Ä‘Ã£ cÃ³ má»™t chuáº©n bá»‹ khÃ¡ á»•n, Ä‘á»ƒ khi ngÃ y thi cáº­n ká», chÃºng ta sáºµn sÃ ng Ä‘Æ°Æ¡ng Ä‘áº§u vá»›i thá»­ thÃ¡ch khÃ³ khÄƒn nháº¥t.",
      "CÃ³ thá»ƒ cÃ¡c em khÃ´ng pháº£i lÃ  nhá»¯ng há»c sinh giá»i nháº¥t, chÄƒm chá»‰ nháº¥t ... NhÆ°ng cÃ¡c em Ä‘Ã£ trá»Ÿ thÃ nh phiÃªn báº£n tá»‘t nháº¥t, hoÃ n háº£o nháº¥t cá»§a chÃ­nh mÃ¬nh trong má»™t nÄƒm há»c Ä‘áº§y khÃ³ khÄƒn nhÆ° nÄƒm nay.",
      "Trong suá»‘t nÄƒm vá»«a qua vÃ  toÃ n khÃ³a há»c, máº·c dÃ¹ anh khÃ¡ khÃ³ tÃ­nh, yÃªu cáº§u Ä‘oáº¡n cuá»‘i láº¡i dá»“n dáº­p, nhiá»u viá»‡c, nhÆ°ng cÃ¡c em pháº§n lá»›n Ä‘á»u ráº¥t cá»‘ gáº¯ng, vÃ  cÃ¡c em Ä‘Ã£ tiáº¿n bá»™ hÆ¡n ráº¥t nhiá»u.",
      "Anh nhÃ¬n tháº¥y sá»± thay Ä‘á»•i vÆ°á»£t trá»™i cá»§a má»™t sá»‘ báº¡n, Ä‘Ã£ tá»«ng Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ yáº¿u hÆ¡n, giá» Ä‘Ã£ cÃ³ nhá»¯ng bÆ°á»›c chÃ¢n vá»¯ng cháº¯c trong con Ä‘Æ°á»ng chinh phá»¥c thá»­ thÃ¡ch lá»›n Ä‘áº§u Ä‘á»i, Ä‘á»§ Ä‘á»ƒ anh tháº¥y yÃªn tÃ¢m trong cháº·ng Ä‘Æ°á»ng sáº¯p tá»›i.",
      "VÃ  cÅ©ng tháº­t vui, khi cÃ¡c em khÃ´ng chá»‰ coi anh lÃ  tháº§y, lÃ  ngÆ°á»i truyá»n táº£i kiáº¿n thá»©c, mÃ  cÃ²n lÃ  má»™t ngÆ°á»i báº¡n, má»™t ngÆ°á»i anh Ä‘á»ƒ tÃ¢m sá»±, láº¯ng nghe má»™t cÃ¡ch chÃ¢n thÃ nh nháº¥t.",
      "CÃ¹ng Ä‘iá»ƒm xem nÄƒm nay ta cÃ³ gÃ¬ cÃ¡c em nhÃ© ðŸ¥°",
      "24 Ä‘á» trá»ng tÃ¢m - tÆ°á»£ng trÆ°ng cho 24 Ä‘iá»ƒm. NÄƒm nay, 8 Ä‘iá»ƒm má»—i mÃ´n cÅ©ng lÃ  má»™t sá»± ná»— lá»±c khá»•ng lá»“ cá»§a cÃ¡c em,",
      "120 Ä‘á» tá»•ng cá»™ng - tÆ°á»£ng trÆ°ng cho 120 ngÃ y cÃ¡c em Ä‘Ã£ Ã´n luyá»‡n váº¥t váº£,",
      "16 Ä‘á» nÃ¢ng cao (2 Ä‘á» má»™t tuáº§n) - lÃ  8 tuáº§n cÃ¡c em tÄƒng tá»‘c vá» Ä‘Ã­ch.",
      "Anh khÃ´ng biáº¿t nÃ³i gÃ¬ hÆ¡n ngoÃ i sá»± tá»± hÃ o vÃ  trÃ¢n trá»ng nhá»¯ng ná»— lá»±c cÃ¡c em Ä‘Ã£ bá» ra cho ká»³ thi quan trá»ng Ä‘Ã¡nh dáº¥u má»‘c trÆ°á»Ÿng thÃ nh cá»§a cuá»™c Ä‘á»i nÃ y â¤ï¸",
      "Sáº¯p tá»›i ngÃ y thi rá»“i. Sau ngÃ y biáº¿t Ä‘iá»ƒm lÃ  cÃ¡c em sáº½ Ä‘á»©ng trÆ°á»›c nhiá»u ngÃ£ ráº½ cá»§a cuá»™c Ä‘á»i.",
      "HÃ£y lá»±a chá»n sao cho khÃ´ng pháº£i há»‘i tiáº¿c. HÃ£y há»c cÃ¡ch bÆ°á»›c tá»›i vÃ  náº¯m láº¥y tÆ°Æ¡ng lai báº±ng sá»©c tráº», cho dÃ¹ viá»‡c Ä‘Ã³ khÃ´ng há» dá»… dÃ ng. Sáº½ cÃ³ ráº¥t nhiá»u khÃ³ khÄƒn Ä‘ang chá» Ä‘á»£i cÃ¡c em, khi Ä‘Ã³, hÃ£y nhá»› ráº±ng Ä‘á»©ng sau cÃ¡c em váº«n cÃ³ anh sáºµn sÃ ng cho cÃ¡c em lá»i khuyÃªn trong nhá»¯ng tÃ¬nh huá»‘ng khÃ³ khÄƒn nháº¥t.",
      "Buá»•i há»c cuá»‘i, ta cÃ³ má»™t bÃ i táº­p nháº¹ nhÃ ng, nhÆ°ng lÃ m ráº¥t dÃ i, anh sáº½ chá» Ä‘á»£i cÃ¡c em lÃ m bÃ i vÃ  bÃ¡o cÃ¡o tiáº¿n Ä‘á»™ hÃ ng nÄƒm nhÃ© ðŸ¥°",
      "BÃ i táº­p vá» nhÃ ",
      "Thá»i gian ná»™p bÃ i: KhÃ´ng cÃ³ thá»i háº¡n",
      "â¤ï¸â¤ï¸â¤ï¸ HÃ£y sá»‘ng tháº­t háº¡nh phÃºc nhÃ© â¤ï¸â¤ï¸â¤ï¸",
      "ChÃºc táº¥t cáº£ cÃ¡c em thÃ nh cÃ´ng vá»›i lá»±a chá»n cá»§a mÃ¬nh â¤ï¸"
    ];

    const storyBox = document.getElementById('story-box');
    const audio = document.getElementById('bgm');
    let index = -1;
    let typingSpeed = 40;
    let typingTimer;

    function typeText(text) {
      clearInterval(typingTimer);
      storyBox.classList.remove('fade-in');
      storyBox.textContent = '';
      let i = 0;
      storyBox.style.opacity = 0;

      setTimeout(() => {
        storyBox.classList.add('fade-in');
        typingTimer = setInterval(() => {
          if (i < text.length) {
            storyBox.textContent += text.charAt(i);
            i++;
          } else {
            clearInterval(typingTimer);
          }
        }, typingSpeed);
      }, 200);
    }

    document.body.addEventListener('click', () => {
      index++;
      if (index < parts.length) {
        typeText(parts[index]);
      } else {
        typeText("Gudluck everyone â¤ï¸â¤ï¸â¤ï¸");
        index = -1;
      }
      if (audio.paused) audio.play();
    });

    audio.volume = 0.5;
    audio.addEventListener('ended', () => {
      audio.currentTime = 0;
      audio.play();
    });

    // Smooth resize animation on story-box
    const resizeObserver = new ResizeObserver(entries => {
      for (let entry of entries) {
        const el = entry.target;
        el.style.animation = 'none';
        void el.offsetWidth; // force reflow
        el.style.animation = 'resizeSmooth 0.4s ease';
      }
    });
    resizeObserver.observe(storyBox);

    // Snowfall effect
    const canvas = document.getElementById('snow');
    const ctx = canvas.getContext('2d');
    let width = window.innerWidth;
    let height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;

    let flakes = [];
    const flakesCount = 150;

    function createFlakes() {
      for (let i = 0; i < flakesCount; i++) {
        flakes.push({
          x: Math.random() * width,
          y: Math.random() * height,
          r: Math.random() * 4 + 1,
          d: Math.random() + 1
        });
      }
    }

    function drawFlakes() {
      ctx.clearRect(0, 0, width, height);
      ctx.fillStyle = "white";
      ctx.beginPath();
      for (let i = 0; i < flakes.length; i++) {
        let f = flakes[i];
        ctx.moveTo(f.x, f.y);
        ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2, true);
      }
      ctx.fill();
      moveFlakes();
    }

    let angle = 0;

    function moveFlakes() {
      angle += 0.01;
      for (let i = 0; i < flakes.length; i++) {
        let f = flakes[i];
        f.y += Math.pow(f.d, 2) + 1;
        f.x += Math.sin(angle) * 2;

        if (f.y > height) {
          flakes[i] = {
            x: Math.random() * width,
            y: 0,
            r: f.r,
            d: f.d
          };
        }
      }
    }

    function updateSnow() {
      drawFlakes();
      requestAnimationFrame(updateSnow);
    }

    window.addEventListener("resize", () => {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    });

    createFlakes();
    updateSnow();
  </script>
</body>
</html>

